
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TQM</title>
    
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ff758c">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TQM">
    <link rel="apple-touch-icon" href="https://img.icons8.com/emoji/512/orange-heart.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { font-family: 'Inter', sans-serif; margin: 0; padding: 0; background-color: #ff758c; -webkit-tap-highlight-color: transparent; overflow-x: hidden; }
        .font-romantic { font-family: 'Dancing Script', cursive; }
        #loading-screen { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%); z-index: 9999; transition: opacity 0.5s ease-out; }
        .hidden-loader { opacity: 0; pointer-events: none; }
        @keyframes pulse-orange {
            0% { transform: scale(1); filter: drop-shadow(0 0 0px rgba(255,165,0,0)); }
            50% { transform: scale(1.1); filter: drop-shadow(0 0 20px rgba(255,165,0,0.6)); }
            100% { transform: scale(1); filter: drop-shadow(0 0 0px rgba(255,165,0,0)); }
        }
        .animate-love { animation: pulse-orange 2s infinite ease-in-out; }
        .glass { background: rgba(255, 255, 255, 0.15); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.2); }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .animate-slide { animation: slideUp 0.6s ease-out forwards; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
    </style>

    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@19.0.0",
    "react-dom": "https://esm.sh/react-dom@19.0.0",
    "react-dom/client": "https://esm.sh/react-dom@19.0.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.460.0?external=react",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
    "react/": "https://esm.sh/react@^19.2.3/"
  }
}
</script>
</head>
<body>
    <div id="loading-screen">
        <div class="flex flex-col items-center gap-6">
            <img src="https://img.icons8.com/emoji/512/orange-heart.png" class="w-24 h-24 animate-love" alt="Cargando">
            <p class="font-romantic text-3xl text-white">TQM...</p>
        </div>
    </div>

    <div id="root"></div>

    <script type="text/babel" data-presets="typescript,react" data-type="module">
        import React, { useState, useEffect, useCallback, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { Heart, Calendar, Settings, Image as ImageIcon, Download, X, Share, Clock, Plus, Trash2, Camera, Bell, BellRing } from 'lucide-react';
        import { GoogleGenAI } from "@google/genai";

        // URL del sonido de notificaciÃ³n (un sonido suave y mÃ¡gico)
        const NOTIFICATION_SOUND_URL = "https://assets.mixkit.co/active_storage/sfx/951/951-preview.mp3";

        // Componente de CronÃ³metro
        const Countdown = () => {
            const [timeLeft, setTimeLeft] = useState({ days: 0, hours: 0, minutes: 0, seconds: 0 });

            const calculate = useCallback(() => {
                const now = new Date();
                let target = new Date(now.getFullYear(), now.getMonth(), 27);
                if (now >= target) {
                    target = new Date(now.getFullYear(), now.getMonth() + 1, 27);
                }
                const diff = target.getTime() - now.getTime();
                setTimeLeft({
                    days: Math.floor(diff / (1000 * 60 * 60 * 24)),
                    hours: Math.floor((diff / (1000 * 60 * 60)) % 24),
                    minutes: Math.floor((diff / 1000 / 60) % 60),
                    seconds: Math.floor((diff / 1000) % 60),
                });
            }, []);

            useEffect(() => {
                calculate();
                const timer = setInterval(calculate, 1000);
                return () => clearInterval(timer);
            }, [calculate]);

            const Unit = ({ val, label }) => (
                <div className="flex flex-col items-center glass px-3 py-2 rounded-xl min-w-[65px]">
                    <span className="text-white font-bold text-xl leading-none">{val}</span>
                    <span className="text-white/60 text-[8px] uppercase font-bold mt-1">{label}</span>
                </div>
            );

            return (
                <div className="flex flex-col items-center gap-3 animate-slide w-full">
                    <p className="text-white/80 text-[10px] uppercase font-bold tracking-widest flex items-center gap-2">
                        <Clock size={12} className="text-orange-400" /> Falta para el 27:
                    </p>
                    <div className="flex gap-2">
                        <Unit val={timeLeft.days} label="DÃ­as" />
                        <Unit val={timeLeft.hours} label="Horas" />
                        <Unit val={timeLeft.minutes} label="Min" />
                        <Unit val={timeLeft.seconds} label="Seg" />
                    </div>
                </div>
            );
        };

        const App = () => {
            const [bg, setBg] = useState(() => localStorage.getItem('love_bg_custom') || 'linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%)');
            const [activeTab, setActiveTab] = useState('home');
            const [showSettings, setShowSettings] = useState(false);
            const [showInstallGuide, setShowInstallGuide] = useState(false);
            const [deferredPrompt, setDeferredPrompt] = useState(null);
            const [isIOS, setIsIOS] = useState(false);
            const [message, setMessage] = useState("");
            const [memories, setMemories] = useState(() => JSON.parse(localStorage.getItem('tqm_memories') || '[]'));
            const [isAddingMemory, setIsAddingMemory] = useState(false);
            const [newMemory, setNewMemory] = useState({ image: '', caption: '' });
            const [notificationsEnabled, setNotificationsEnabled] = useState(() => localStorage.getItem('tqm_notifications') === 'true');

            useEffect(() => {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('./sw.js').catch(err => console.log('SW Error', err));
                }

                const isIosDevice = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
                setIsIOS(isIosDevice);

                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    setDeferredPrompt(e);
                });

                // Determinar mensaje del dÃ­a
                const now = new Date();
                const day = now.getDate();
                const month = now.getMonth();
                let currentMessage = "Cada dÃ­a a tu lado es el mejor regalo.";

                if (month === 1 && day === 27) {
                    currentMessage = "feliz aniversio mi amor y que sean muchos mas";
                } else if (day === 27) {
                    currentMessage = "Â¡Hoy es nuestro dÃ­a especial! â¤ï¸";
                }
                
                setMessage(currentMessage);

                const loader = document.getElementById('loading-screen');
                if (loader) loader.classList.add('hidden-loader');
            }, []);

            // FunciÃ³n auxiliar para reproducir sonido
            const playNotificationSound = () => {
                try {
                    const audio = new Audio(NOTIFICATION_SOUND_URL);
                    audio.volume = 0.8;
                    audio.play().catch(e => console.log("Audio play failed (user interaction needed first)", e));
                } catch (e) {
                    console.error("Error playing sound", e);
                }
            };

            // FunciÃ³n para enviar notificaciÃ³n usando Service Worker (Corrige el problema de la URL)
            const showNotification = async (title, body) => {
                if (!('serviceWorker' in navigator)) return;
                
                try {
                    const registration = await navigator.serviceWorker.ready;
                    
                    // Reproducir sonido
                    playNotificationSound();

                    // Mostrar notificaciÃ³n nativa
                    await registration.showNotification(title, {
                        body: body,
                        icon: "https://img.icons8.com/emoji/512/orange-heart.png",
                        badge: "https://img.icons8.com/emoji/512/orange-heart.png",
                        vibrate: [200, 100, 200, 100, 400],
                        tag: 'daily-love-msg',
                        renotify: true,
                        data: { url: window.location.href } // Para abrir la app al tocar
                    });
                } catch (e) {
                    console.error("Error mostrando notificaciÃ³n", e);
                    // Fallback para notificaciÃ³n bÃ¡sica
                    new Notification(title, { body, icon: "https://img.icons8.com/emoji/512/orange-heart.png" });
                }
            };

            // --- SISTEMA DE NOTIFICACIONES ZONA HORARIA VENEZUELA ---
            const checkTimeAndNotify = useCallback(() => {
                if (!notificationsEnabled || !('Notification' in window) || Notification.permission !== 'granted') return;

                // 1. Obtener la hora actual en Venezuela
                const now = new Date();
                const venezuelaTimeStr = now.toLocaleString("en-US", { timeZone: "America/Caracas" });
                const venezuelaTime = new Date(venezuelaTimeStr);
                
                const currentHour = venezuelaTime.getHours();
                
                // Usamos toDateString() basado en la fecha de Venezuela para saber si ya notificamos "hoy" en Venezuela
                const todayInVenezuela = venezuelaTime.toDateString(); 
                const lastSentDate = localStorage.getItem('tqm_last_notif_date_vzla');

                // LÃ³gica: 
                // - Si la hora en Caracas es >= 6 (6 AM)
                // - Y la fecha registrada no es la de hoy (no se ha enviado hoy)
                if (currentHour >= 6 && lastSentDate !== todayInVenezuela) {
                    // Texto seguro
                    const msgBody = message || "Recuerda que te quiero mucho.";
                    
                    showNotification("Buenos dÃ­as mi amor ðŸ§¡", msgBody);
                    
                    // Marcar como enviado hoy
                    localStorage.setItem('tqm_last_notif_date_vzla', todayInVenezuela);
                }
            }, [notificationsEnabled, message]);

            // Efecto que corre el chequeo al iniciar y cada minuto
            useEffect(() => {
                checkTimeAndNotify(); // Chequeo inmediato al abrir
                const interval = setInterval(checkTimeAndNotify, 60000); // Chequeo cada 60 segundos por si la app estÃ¡ abierta
                return () => clearInterval(interval);
            }, [checkTimeAndNotify]);
            // --------------------------------------------------------

            const handleInstall = async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    if (outcome === 'accepted') setDeferredPrompt(null);
                } else {
                    setShowInstallGuide(true);
                }
            };

            const toggleNotifications = async () => {
                if (!notificationsEnabled) {
                    if (!('Notification' in window)) {
                        alert("Tu dispositivo no soporta notificaciones web :(");
                        return;
                    }
                    
                    const permission = await Notification.requestPermission();
                    if (permission === 'granted') {
                        setNotificationsEnabled(true);
                        localStorage.setItem('tqm_notifications', 'true');
                        
                        // Sonido de confirmaciÃ³n
                        playNotificationSound();
                        
                        // Enviar notificaciÃ³n de prueba tÃ©cnica (usando el nuevo mÃ©todo)
                        showNotification("Â¡TQM Activado!", "Te avisarÃ© a las 6:00 AM (Hora Caracas) â¤ï¸");

                    } else {
                        alert("Necesitas dar permiso en los ajustes de tu navegador.");
                    }
                } else {
                    setNotificationsEnabled(false);
                    localStorage.setItem('tqm_notifications', 'false');
                }
            };

            const sendTestNotification = async () => {
                if (Notification.permission === 'granted') {
                    showNotification("Prueba Exitosa ðŸ§¡", message || "AsÃ­ llegarÃ¡n tus mensajes a las 6 AM VZLA.");
                } else {
                    const permission = await Notification.requestPermission();
                    if (permission === 'granted') {
                        showNotification("Prueba Exitosa ðŸ§¡", "Â¡Permiso concedido!");
                    } else {
                        alert("No tienes permisos activados.");
                    }
                }
            };

            // Resto de funciones (handleFileChange, addMemory, deleteMemory) se mantienen igual...
            const handleFileChange = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onloadend = () => {
                        setNewMemory({ ...newMemory, image: reader.result });
                    };
                    reader.readAsDataURL(file);
                }
            };

            const addMemory = () => {
                if (newMemory.image && newMemory.caption) {
                    const memory = {
                        id: Date.now().toString(),
                        ...newMemory,
                        date: new Date().toLocaleDateString()
                    };
                    setMemories([memory, ...memories]);
                    setNewMemory({ image: '', caption: '' });
                    setIsAddingMemory(false);
                }
            };

            const deleteMemory = (id) => {
                setMemories(memories.filter(m => m.id !== id));
            };

            // Guardar memorias cuando cambien
            useEffect(() => {
                localStorage.setItem('tqm_memories', JSON.stringify(memories));
            }, [memories]);


            return (
                <div style={{ background: bg, minHeight: '100vh', transition: 'background 0.8s' }} className="flex flex-col items-center p-6 pb-32 overflow-hidden relative">
                    
                    <header className="w-full flex justify-between items-center mb-8 z-10 animate-slide">
                        <div className="flex items-center gap-3">
                            <img src="https://img.icons8.com/emoji/512/orange-heart.png" className="w-10 h-10 drop-shadow-md" alt="Logo" />
                            <h1 className="text-white text-3xl font-romantic leading-none">TQM</h1>
                        </div>
                        <div className="flex gap-2">
                            <button onClick={handleInstall} className={`p-2.5 glass rounded-full flex items-center gap-2 transition-all active:scale-95 ${deferredPrompt ? 'bg-orange-400 text-white animate-bounce' : 'text-orange-400'}`}>
                                <Download size={20} />
                            </button>
                            <button onClick={() => setShowSettings(true)} className="p-2.5 glass rounded-full text-white relative">
                                <Settings size={20} />
                                {!notificationsEnabled && <span className="absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full"></span>}
                            </button>
                        </div>
                    </header>

                    <main className="w-full max-w-md flex flex-col items-center flex-grow z-10">
                        {activeTab === 'home' && (
                            <div className="flex flex-col items-center gap-10 text-center animate-slide w-full">
                                <h2 className="text-white text-5xl font-romantic drop-shadow-lg">
                                    {new Date().getDate() === 27 ? "Â¡Nuestro DÃ­a!" : "Siempre Juntos"}
                                </h2>
                                
                                <img src="https://img.icons8.com/emoji/512/orange-heart.png" className="w-32 h-32 animate-love" />
                                
                                <div className="glass p-8 rounded-[40px] shadow-2xl relative w-full">
                                    <div className="absolute -top-3 left-1/2 -translate-x-1/2 bg-orange-400 text-white text-[10px] px-3 py-1 rounded-full font-bold uppercase tracking-widest">
                                        Para Ti
                                    </div>
                                    <p className="text-white text-2xl font-romantic leading-relaxed">
                                        "{message}"
                                    </p>
                                </div>

                                <Countdown />
                            </div>
                        )}

                        {activeTab === 'calendar' && (
                            <div className="glass p-6 rounded-[32px] w-full max-w-sm animate-slide">
                                <h3 className="text-white text-2xl font-romantic mb-6 text-center">Calendario del 27</h3>
                                <div className="grid grid-cols-3 gap-3">
                                    {["Ene", "Feb", "Mar", "Abr", "May", "Jun", "Jul", "Ago", "Sep", "Oct", "Nov", "Dic"].map((m, i) => (
                                        <div key={m} className={`p-3 rounded-2xl border flex flex-col items-center transition-all ${i === 1 ? 'bg-orange-500/40 border-orange-400/60 scale-105' : 'bg-white/5 border-white/10'}`}>
                                            <span className="text-[10px] text-white/50 uppercase font-bold">{m}</span>
                                            <span className="text-xl font-bold text-white">27</span>
                                            {i === 1 && <span className="text-[10px] mt-1">ANIV</span>}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {activeTab === 'memories' && (
                            <div className="w-full space-y-6 animate-slide">
                                <div className="flex justify-between items-center px-2">
                                    <h3 className="text-white text-3xl font-romantic">Recuerdos</h3>
                                    <button onClick={() => setIsAddingMemory(true)} className="bg-orange-500 text-white p-3 rounded-full shadow-lg active:scale-90 transition-transform">
                                        <Plus size={24} />
                                    </button>
                                </div>

                                {memories.length === 0 ? (
                                    <div className="w-full text-center py-20 glass rounded-3xl text-white/40">
                                        <ImageIcon className="mx-auto mb-4 opacity-20" size={64} />
                                        <p className="font-romantic text-xl text-white/60">AÃ±ade nuestra primera foto juntas...</p>
                                    </div>
                                ) : (
                                    <div className="grid grid-cols-2 gap-4">
                                        {memories.map(m => (
                                            <div key={m.id} className="relative group glass rounded-2xl overflow-hidden shadow-xl animate-slide">
                                                <img src={m.image} className="w-full aspect-square object-cover" />
                                                <div className="p-2">
                                                    <p className="text-white text-[10px] line-clamp-1">{m.caption}</p>
                                                </div>
                                                <button onClick={() => deleteMemory(m.id)} className="absolute top-2 right-2 bg-red-500/80 p-1.5 rounded-full text-white shadow-md">
                                                    <Trash2 size={12} />
                                                </button>
                                            </div>
                                        ))}
                                    </div>
                                )}
                            </div>
                        )}
                    </main>

                    {/* Nav Bar */}
                    <nav className="fixed bottom-8 left-8 right-8 h-16 glass rounded-[24px] flex justify-around items-center z-50">
                        <button onClick={() => setActiveTab('home')} className={`p-4 transition-all ${activeTab === 'home' ? 'text-orange-400 scale-125' : 'text-white/40'}`}>
                            <Heart fill={activeTab === 'home' ? "currentColor" : "none"} size={26} />
                        </button>
                        <button onClick={() => setActiveTab('calendar')} className={`p-4 transition-all ${activeTab === 'calendar' ? 'text-white scale-125' : 'text-white/40'}`}>
                            <Calendar size={26} />
                        </button>
                        <button onClick={() => setActiveTab('memories')} className={`p-4 transition-all ${activeTab === 'memories' ? 'text-white scale-125' : 'text-white/40'}`}>
                            <ImageIcon size={26} />
                        </button>
                    </nav>

                    {/* Modal AÃ±adir Foto */}
                    {isAddingMemory && (
                        <div className="fixed inset-0 z-[200] bg-black/80 backdrop-blur-md flex items-center justify-center p-6">
                            <div className="bg-white rounded-[32px] p-8 max-w-xs w-full animate-slide text-center relative">
                                <button onClick={() => setIsAddingMemory(false)} className="absolute top-4 right-4 text-gray-400"><X /></button>
                                <h3 className="text-orange-500 font-bold text-xl mb-6">Nuevo Recuerdo</h3>
                                
                                <label className="block w-full h-48 border-2 border-dashed border-orange-200 rounded-2xl flex flex-col items-center justify-center cursor-pointer overflow-hidden bg-orange-50 mb-4">
                                    {newMemory.image ? (
                                        <img src={newMemory.image} className="w-full h-full object-cover" />
                                    ) : (
                                        <>
                                            <Camera className="text-orange-300 mb-2" size={32} />
                                            <span className="text-orange-400 text-xs font-bold">ELEGIR FOTO</span>
                                        </>
                                    )}
                                    <input type="file" accept="image/*" className="hidden" onChange={handleFileChange} />
                                </label>

                                <input 
                                    type="text" 
                                    placeholder="Â¿QuÃ© pasÃ³ este dÃ­a?" 
                                    className="w-full p-4 bg-gray-100 rounded-xl mb-6 text-sm outline-none focus:ring-2 focus:ring-orange-300 transition-all"
                                    value={newMemory.caption}
                                    onChange={(e) => setNewMemory({ ...newMemory, caption: e.target.value })}
                                />

                                <button onClick={addMemory} className="w-full bg-orange-500 text-white py-4 rounded-xl font-bold shadow-lg active:scale-95 transition-transform">GUARDAR ðŸ§¡</button>
                            </div>
                        </div>
                    )}

                    {/* GuÃ­a de InstalaciÃ³n */}
                    {showInstallGuide && (
                        <div className="fixed inset-0 z-[200] bg-black/80 backdrop-blur-md flex items-center justify-center p-6">
                            <div className="bg-white rounded-[32px] p-8 max-w-xs w-full animate-slide text-center relative">
                                <button onClick={() => setShowInstallGuide(false)} className="absolute top-4 right-4 text-gray-400"><X /></button>
                                <img src="https://img.icons8.com/emoji/512/orange-heart.png" className="w-16 h-16 mx-auto mb-4" />
                                <h3 className="text-orange-500 font-bold text-xl mb-4">Instalar TQM</h3>
                                <div className="text-left space-y-4 text-sm text-gray-600">
                                    {isIOS ? (
                                        <p>Toca <b>Compartir</b> <Share className="inline w-4 h-4 text-blue-500"/> y elige <b>"AÃ±adir a pantalla de inicio"</b>.</p>
                                    ) : (
                                        <p>Toca los <b>3 puntos</b> â‹® arriba y elige <b>"Instalar aplicaciÃ³n"</b>.</p>
                                    )}
                                </div>
                                <button onClick={() => setShowInstallGuide(false)} className="mt-6 w-full bg-orange-500 text-white py-3 rounded-xl font-bold">Â¡Lo tengo!</button>
                            </div>
                        </div>
                    )}

                    {/* Ajustes */}
                    {showSettings && (
                        <div className="fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm flex items-end">
                            <div className="w-full bg-white rounded-t-[40px] p-8 animate-slide">
                                <div className="w-12 h-1.5 bg-gray-200 rounded-full mx-auto mb-8" onClick={() => setShowSettings(false)}></div>
                                
                                <h4 className="text-orange-600 font-bold mb-4 uppercase text-xs tracking-widest">Ajustes</h4>
                                
                                {/* SecciÃ³n de Notificaciones */}
                                <div className="glass bg-gray-50 p-4 rounded-2xl mb-4">
                                    <div className="flex justify-between items-center mb-3">
                                        <div className="flex items-center gap-3">
                                            <Bell className="text-orange-500" size={20} />
                                            <div className="flex flex-col">
                                                <span className="text-sm font-bold text-gray-700">Notificaciones 6 AM</span>
                                                <span className="text-[10px] text-gray-500">Hora Caracas (Venezuela)</span>
                                            </div>
                                        </div>
                                        <button 
                                            onClick={toggleNotifications}
                                            className={`w-12 h-6 rounded-full transition-colors relative ${notificationsEnabled ? 'bg-orange-500' : 'bg-gray-300'}`}
                                        >
                                            <div className={`absolute top-1 w-4 h-4 bg-white rounded-full transition-all ${notificationsEnabled ? 'left-7' : 'left-1'}`}></div>
                                        </button>
                                    </div>
                                    <button 
                                        onClick={sendTestNotification} 
                                        className="w-full py-2 bg-white rounded-xl text-xs font-bold text-orange-400 border border-orange-200 flex items-center justify-center gap-2 active:bg-orange-50"
                                    >
                                        <BellRing size={14} /> PROBAR NOTIFICACIÃ“N
                                    </button>
                                    <p className="text-[10px] text-gray-400 mt-2 text-center">Te enviarÃ© amor si detecto que ya son las 6 AM en VZLA.</p>
                                </div>

                                <h4 className="text-orange-600 font-bold mb-4 uppercase text-xs tracking-widest">Fondo de Pantalla</h4>
                                <div className="grid grid-cols-4 gap-4 mb-8">
                                    {[
                                        'linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%)',
                                        'linear-gradient(135deg, #6a11cb 0%, #2575fc 100%)',
                                        '#1a1a1a',
                                        'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)'
                                    ].map(c => (
                                        <button key={c} onClick={() => { setBg(c); localStorage.setItem('love_bg_custom', c); }} className="aspect-square rounded-2xl border-2 border-white shadow-md active:scale-90 transition-transform" style={{ background: c }} />
                                    ))}
                                </div>
                                <button onClick={() => setShowSettings(false)} className="w-full bg-orange-500 text-white py-4 rounded-xl font-bold shadow-lg">Hecho</button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
